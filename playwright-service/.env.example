# Environment Variables for Playwright Service
# Copy this file to .env and fill in the values

# Database connection string
# Local development:
DATABASE_URL=postgresql+asyncpg://xero_user:xero_password@postgres:5432/xero_automation

# Production with Supabase (use the CONNECTION POOLER URL, not direct connection):
# Format: postgresql+asyncpg://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
# Example: postgresql+asyncpg://postgres.abcdefghijk:MyPassword123@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
# 
# IMPORTANT: Do NOT use the direct connection (db.xxx.supabase.co:5432) - it requires IPv6 which Docker doesn't support by default.
# Get the pooler URL from: Supabase Dashboard > Project Settings > Database > Connection string > Session mode

# Encryption key for session cookies (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
ENCRYPTION_KEY=your-32-byte-fernet-key-here-change-me

# API Key for authentication (generate a secure random string)
# All API endpoints require this key in the X-API-Key header
API_KEY=change-this-api-key-in-production

# Playwright settings
PLAYWRIGHT_TIMEOUT=30000

# Directory paths (inside container)
DOWNLOAD_DIR=/app/downloads
SCREENSHOT_DIR=/app/screenshots
SESSION_DIR=/app/sessions

# Logging
LOG_LEVEL=INFO

# Optional: n8n webhook for re-auth notifications
N8N_WEBHOOK_URL=http://n8n:5678/webhook/xero-reauth-needed

# Xero Credentials for Automated Login
XERO_EMAIL=your_xero_email@example.com
XERO_PASSWORD=your_xero_password

# Xero Security Question Answers (for MFA bypass)
# Question 1: "As a child, what did you want to be when you grew up?"
XERO_SECURITY_ANSWER_1=your_answer_1
# Question 2: "What is your most disliked holiday?"
XERO_SECURITY_ANSWER_2=your_answer_2
# Question 3: "What is your dream job?"
XERO_SECURITY_ANSWER_3=your_answer_3
